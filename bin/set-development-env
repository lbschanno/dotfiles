#!/usr/bin/env bash

init_datawave_quickstart() {
  export DW_SOURCE="${DATAWAVE_SRC}"
  source ${DW_SOURCE}/contrib/datawave-quickstart/bin/env.sh
}

init_fluo_uno() {
  export FLUO_HOME="${FLUO_UNO_SRC}"
  export HADOOP_HOME="${FLUO_HOME}/install/hadoop-3.2.0"
  export ZOOKEEPER_HOME="${FLUO_HOME}/install/zookeeper-3.4.14"
  export ACCUMULO_VERSION="2.0.0-SNAPSHOT"
  export ACCUMULO_HOME="${FLUO_HOME}/install/accumulo-${ACCUMULO_VERSION}"
  pushd "${FLUO_HOME}" > /dev/null
  eval "$( ./bin/uno env )"
  popd > /dev/null
}

main() {
  local profile=$1

  if [[ "${profile}" = "fluo-uno" ]]; then
    init_fluo_uno
  elif [[ "${profile}" = "datawave-quickstart" ]]; then
    init_datawave_quickstart
  else
    echo "Invalid development profile name. Valid names: fluo-uno,datawave-quickstart"
    exit -1
  fi
}

main "${@}"
